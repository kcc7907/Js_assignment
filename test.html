<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.12/vue.js'></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.js'></script>
</head>

<body>
  <table id="table" border='1'>
    <tr>
      <th>縣/市</th>
      <th>區域</th>
      <th>名稱</th>
    </tr>
    <tr v-for="(item, index) in rp" :key="index">
      <td>{{item.Region}}</td>
      <td>{{item.Town}}</td>
      <td>{{item.Name}}</td>
    </tr>
  </table>

  <script>
    new Vue({
      el: '#table',
      data: {
        rp: [],
        test:'123'
      },
      methods: {

      },
      mounted() {
        // const cors = 'https://cors-anywhere.herokuapp.com/';
        // const url = 'https://gis.taiwan.net.tw/XMLReleaseALL_public/scenic_spot_C_f.json';
        const that = this;
        // $.ajax({
        //   url: cors + url,
        //   method: "GET",
        //   crossDomain: true,
        //   dataType: 'json',
        //   success: function (data) {
        //     console.log(data);
        //     that.rp = data.XML_Head.Infos.Info;
        //     console.log(that.rp);
        //   },
        //   // complete:(res)=>{
        //   //   that.rp = res.responseJSON.XML_Head.Infos.Info;
        //   // }
        // })

        // axios.get(url,{
        //   headers: {
        //     // 'x-apikey': '59a7ad19f5a9fa0808f11931',
        //     'Access-Control-Allow-Origin': url,
        //     'Access-Control-Allow-Methods': 'GET,PUT,POST,DELETE,PATCH,OPTIONS',
        //     withCredentials: true,
        //   },
        // }).then(res => {
        //   this.rp = res;
        //   console.log(res);
        // })

        var cors = 'https://cors-anywhere.herokuapp.com/';
        var url = 'https://gis.taiwan.net.tw/XMLReleaseALL_public/scenic_spot_C_f.json';
        fetch(cors + url, { method: 'get' })
          .then(function (response) {
            response.json().then(
              function (data) {
                console.log(data);
                that.rp = data.XML_Head.Infos.Info;
              }
            )
          }).catch(function (err) {
            console.log('error')
        });
      },
    })
  </script>
</body>

</html>