<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
</head>

<body>
    <li>
        <div class="item_flex">
            <div class="left_block">
                <div class="btn_flex"><button type="button" class="btn_up">往上</button><button type="button"
                        class="btn_down">往下</button></div>
            </div>
            <div class="middle_block">
                <div class="star_block">
                    <span class="star" data-star="1">
                        <i class="fas fa-star"></i>
                    </span>
                    <span class="star" data-star="2">
                        <i class="fas fa-star"></i>
                    </span>
                    <span class="star" data-star="3">
                        <i class="fas fa-star"></i>
                    </span>
                    <span class="star" data-star="4">
                        <i class="fas fa-star"></i>
                    </span>
                    <span class="star" data-star="5">
                        <i class="fas fa-star"></i>
                    </span>
                </div>
                <p class="para">${task_text}</p>
                <input type="text" class="task_name_update -none" placeholder="更新待辦事項…" value="${task_text}">
            </div>
            <div class="right_block">
                <div class="btn_flex">
                    <button type="button" class="btn_update">更新</button>
                    <button type="button" class="btn_delete">移除</button>
                </div>
            </div>
        </div>
    </li>
</body>

</html>

<script>
    function get_tasks() {
        let tasks = JSON.parse(localStorage.getItem("tasks"));
        if (tasks) {
            let list_html = "";
            tasks.forEach(function (item, i) {

                list_html += `
    <li data-id="${item.item_id}">
        <div class="item_flex">
            <div class="left_block">
                <div class="btn_flex">
                    <button type="button" class="btn_up">往上</button>
                    <button type="button" class="btn_down">往下</button>
                </div>
            </div>
            <div class="middle_block">
                <div class="star_block">
                    <span class="star${(item.star >= 1 ? " -on" : "" )}" data-star="1"><i
                            class="fas fa-star"></i></span>
                    <span class="star${(item.star >= 2 ? " -on" : "" )}" data-star="2"><i
                            class="fas fa-star"></i></span>
                    <span class="star${(item.star >= 3 ? " -on" : "" )}" data-star="3"><i
                            class="fas fa-star"></i></span>
                    <span class="star${(item.star >= 4 ? " -on" : "" )}" data-star="4"><i
                            class="fas fa-star"></i></span>
                    <span class="star${(item.star >= 5 ? " -on" : "" )}" data-star="5"><i
                            class="fas fa-star"></i></span>
                </div>
                <p class="para">${item.name}</p>
                <input type="text" class="task_name_update -none" placeholder="更新待辦事項…" value="${item.name}">
            </div>
            <div class="right_block">
                <div class="btn_flex">
                    <button type="button" class="btn_update">更新</button>
                    <button type="button" class="btn_delete">移除</button>
                </div>
            </div>
        </div>
    </li>
    `;

            });

            let ul_task_list = document.getElementsByClassName("task_list")[0];
            ul_task_list.innerHTML = list_html;
        }
    }

    function get_tasks() {
        let tasks = JSON.parse(localStorage.getItem("tasks"));
        if (tasks) {
            let list_html = "";
            tasks.forEach(function (item, i) {

                list_html += `
                    <li class="r-list-box">
                        <div class="list-name">${item.item_id}</div>
                        <div class="list-num">${item.num}</div>
                        <div class="list-pri">${item.price}</div>
                        <button type="button" class="list-del">X</button>
                    </li>
                `;

            });

            let r_list_ul = document.getElementsByClassName(".r-list-ul")[0];
            r_list_ul.innerHTML = list_html;
        }
    }
</script>